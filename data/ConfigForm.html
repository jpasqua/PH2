<script>
  function showHide(elementID, show) {
    var x = document.getElementById(elementID);
    if (show) { x.style.display = 'block'; } else { x.style.display = 'none'; }
  }
</script>

<form class='w3-container' action='/updatePHConfig' method='get'>
  <h2>PurpleHaze Settings:</h2>
  <p><label>Description (e.g. a name or place)</label><input class='w3-input w3-border w3-margin-bottom' type='text' name='description' value='%DESC%' maxlength='60'></p>
  <p><label>Indicator Brightness (0-100\%)</label><input class='w3-input w3-border w3-margin-bottom' type='text' name='iBright' value='%I_BRIGHT%' maxlength='3'></p>

  <p><input name='is24hour' class='w3-check' type='checkbox' %USE_24HOUR%> Use 24 Hour Clock (13:30 vs 1:30)</p>
  <p><input name='metric' class='w3-check' type='checkbox' %USE_METRIC%> Use Metric</p>


  <p><label>Blynk API Key</label><input class='w3-input w3-border w3-margin-bottom' type='text' name='blynkAPIKey' value='%BLYNK_KEY%' maxlength='60'></p>

  <div id='AQISettings' style='display:none' class='w3-card-4 w3-round-large'>
    <header class='w3-container w3-light-grey'>
      <h4>AQI Settings</h4>
    </header>
    <div class='w3-container w3-margin-bottom'>
      <div class='w3-row w3-margin-top w3-margin-bottom'>
        Chart Colors
        <table>
        <tr><td>PM 1.0</td><td></label><input  type='color' name='pm10Color' value='%PM10_CLR%'></td></tr>
        <tr><td>PM 2.5</td><td></label><input  type='color' name='pm25Color' value='%PM25_CLR%'></td></tr>
        <tr><td>PM 10.0</td><td></label><input  type='color' name='pm100Color' value='%PM100_CLR%'></td></tr>
        <tr><td>AQI</td><td></label><input  type='color' name='aqiColor' value='%AQI_CLR%'></td></tr>
        </table>
      </div>
    </div>
  </div>

  <div id='WeatherSettings' style='display:none' class='w3-card-4 w3-round-large w3-margin-top'>
    <header class='w3-container w3-light-grey'>
      <h4>Weather Settings</h4>
    </header>
    <div class='w3-container w3-margin-bottom'>
      <div class='w3-row w3-margin-top'>
        <label>Temperature Correction</label>
        <input class='w3-input w3-border' type='text' name='tempCorrection' value='%TEMP_CORRECT%' maxlength='12'>
      </div>
      <div class='w3-row'>
        <label>Humidity Correction</label>
        <input class='w3-input w3-border' type='text' name='humiCorrection' value='%HUMI_CORRECT%' maxlength='12'>
      </div>
      <div class='w3-row w3-margin-top w3-margin-bottom'>
        Chart Colors
        <table>
          <tr><td>Temperature</td><td></label><input  type='color' name='tempColor' value='%TEMP_CLR%'></td></tr>
          <tr><td>Moving Average</td><td></label><input  type='color' name='avgColor' value='%AVG_CLR%'></td></tr>
        </table>
      </div>
    </div>
  </div>

  <button class='w3-button w3-block w3-round-large w3-grey w3-section w3-padding' type='submit'>Save</button>
</form>

  <script>
    showHide('WeatherSettings', %WTHR_VIS%);
    showHide('AQISettings', true);
  </script>
